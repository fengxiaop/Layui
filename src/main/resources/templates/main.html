<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
    <link rel="stylesheet" href="/css/elementui/index.css">
    <script src="/js/vue.js"><
    /script>
    <script src="/js/elementui/index.js"></script>
    <script src="/js/axios.min.js?v=001"></script>
    <script src="/js/common.js"></script>
    <script src="/js/layui.js"></script>
</head>
<body>
<div id='app'>
    <el-row>
        <el-col :span="21">
            <el-menu :default-active="activeIndex" class="el-menu-demo" mode="horizontal" @select="handleSelect">
                <!-- 在这里可以添加菜单 -->
                <el-menu-item index="/forward?page=/demo/list">demo</el-menu-item>
            </el-menu>
        </el-col>
        <el-col :span="3">

            <div class="demo-type">
                <el-dropdown>
                  <span class="el-dropdown-link">
                     <div style="float: right;panding:10px;margin:10px 40px;cursor: pointer">
                        <el-avatar src="/image/avator.png"></el-avatar>
                     </div>
                  </span>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item @click.native="logout">退出登陆</el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
            </div>
        </el-col>
    </el-row>

    <div class="line"></div>
    <div class="d1">
        <iframe frameborder="no" border="0" style="width:100%;height:100%;border:0px;" id="mainFrame" name="mainFrame"
                src="/forward?page=/goods/list"></iframe>
    </div>
</div>
</body>
<style>
    .d1 {
        position: fixed;
        top: 100px;
        left: 0;
        right: 0;
        bottom: 0;
    }
</style>
<script>
    var app = new Vue({
        el: '#app',
        name: "index",
        data() {
            return {
                activeIndex: '/forward?page=/goods/list',
            }
        },
        methods: {
            logout(){
                success("正在退出系统...", this);
                setTimeout(function () {
                    window.location.href = 'http://localhost:9276/';
                }, 1500);
            },
            handleSelect(key, keyPath) {
                console.log(key, keyPath);
                if (this.activeIndex != key) {
                    this.activeIndex = key;
                    window.frames[0].location.href = key;
                }
            }
        }
    });
</script>
</html>